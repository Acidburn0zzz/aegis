.map {
    margin: 5px;
    padding: 0px;
    li {
        position: relative;
        list-style: none;
        margin: 0px;
        width: $tree-panel-width;
        border-left: 1px dotted;

        .new-action-icon {
            position: absolute;
            top: 9px;
            right: 25px;
            @include button-interaction();
        }
        .edit-action-icon {
            position: absolute;
            top: 9px;
            right: 47px;
            @include button-interaction();
        }
        &:last-child {
            border-left: transparent 1px dotted;
        }

        div.control.expand {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 0; 
        	height: 0; 
        	border-top: 6px solid transparent;
        	border-bottom: 6px solid transparent;
            border-left: 8px solid $purpose-color;
        }

        div.control.hide {
            position: absolute;
            top: 15px;
            right: 9px;
            width: 0; 
        	height: 0; 
        	border-left: 6px solid transparent;
        	border-right: 6px solid transparent;
            border-top: 8px solid $purpose-color;
        }

        input {
            position: absolute;
            top: 13px;
            right: 8px;
            margin: 0;
            opacity: 0;
            z-index: 2;
            cursor: pointer;
            height: 16px;
            width: 16px;
            border: 1px solid;

            & + ol {
                display: none;
                &.active:before {
                    border-top: 2px solid $purpose-color !important;
                    border-right: 2px solid $purpose-color !important;
                }

                &:before {
                    display: block;
                    content: '';
                    height: 50px;
                    width: 14px;
                    border-top: 1px solid $grayLight;
                    border-right: 1px solid $grayLight;
                    position: absolute;
                    top: 16px;
                    left: 100%;
                    @include border-top-right-radius(5px);
                }
            }

            & + ol > li {
                display: none;
                margin: 0px;
                padding: 0px;
                
                &.active:before {
                    border-left: 2px solid $purpose-color !important;
                    border-bottom: 2px solid $purpose-color !important;
                }
                &.active-path:before {
                    border-left: 2px solid $purpose-color !important;
                    left: -2px;
                }
                &:last-child:before {
                    display: block;
                    content: '';
                    height: 50px;
                    width: 14px;
                    border-left: 1px solid $grayLight;
                    border-bottom: 1px solid $grayLight;
                    position: absolute;
                    left: -1px;
                    top: -33px;
                    @include border-bottom-left-radius(5px);
                }
                &:before {
                    display: block;
                    content: '';
                    height: 50px;
                    width: 14px;
                    border-left: 1px solid $grayLight;
                    border-bottom: 1px solid $grayLight;
                    position: absolute;
                    left: -1px;
                    top: -33px;
                }
       
            }

            &:checked + ol {
                display: block;
                margin: 0px 0 0 $tree-panel-width + $baseLineHeight;
                padding: 0px 0 0 0px;
                height: auto;
            }
        }

        label {
            cursor: pointer;
            display: block;
            padding-left: 37px;
        }

        a {
            @include button-interaction();
            margin: -2px 0 0 -1px;
            padding: 10px 65px 10px 30px;
            text-decoration: none;
            line-height: 16px;
            display: block;
            color: $gray;
            border: $grayLight 1px solid;
            background-repeat: no-repeat;
            background-position: 8px 9px;
            max-height: 80px;
            &.active {
                margin: -3px -1px -1px -2px;
                color: $purpose-color;
                border: $purpose-color 2px solid;
                text-decoration: none;
            }
            &:hover {
                color: $purpose-color;
                text-decoration: none;
            }
            &.vision {
                background-image: url(icon/vision_16.png);
            }
            &.objective {
                background-image: url(icon/objective_16.png);
            }

        }

		input:checked + ol > li { 
            display: block; 
            border-left: $grayLight 1px solid;
            margin: 35px 0 0 -7px;
            padding-left: 15px;
            &.active-path {
                border-left: 2px solid $purpose-color;
            }
        }
        
		input:checked + ol > li:last-child { 
            border-left-color: transparent;
        }

    }
}
